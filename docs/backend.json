
{
  "entities": {
    "OrderDraft": {
      "title": "Order Draft",
      "description": "A partially completed order with flexible metadata.",
      "type": "object",
      "properties": {
        "orderId": { "type": "string" },
        "id": { "type": "string" },
        "eventDetails": { "type": "object" },
        "deliverables": { "type": "array" },
        "paymentReceived": { "type": "number" },
        "currentStep": { "type": "string" },
        "lastSavedAt": { "type": ["object", "string", "null"] }
      },
      "required": ["orderId"]
    },
    "ActiveOrder": {
      "title": "Active Order",
      "description": "A finalized order promoted from a draft.",
      "type": "object",
      "properties": {
        "orderId": { "type": "string" },
        "id": { "type": "string" },
        "eventDetails": { "type": "object" },
        "deliverables": { "type": "array" },
        "paymentReceived": { "type": "number" },
        "currentStep": { "type": "string" },
        "lastSavedAt": { "type": ["object", "string", "null"] },
        "activatedAt": { "type": ["object", "string", "null"] }
      },
      "required": ["orderId", "activatedAt"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/drafts/{orderId}": {
      "schema": "OrderDraft",
      "description": "Flexible store for drafts. (Rules Version: v9 - Permissive Sync)"
    },
    "/active-orders/{orderId}": {
      "schema": "ActiveOrder",
      "description": "Store for active business. (Rules Version: v9 - Permissive Sync)"
    }
  }
}
